<DataListSpec
	xmlns="bb_appfx_datalist"
	xmlns:common="bb_appfx_commontypes"
	ID="DB5C34F5-7A01-4EBE-BA30-1F19637062AD"
	Name="SponsorTerminate Business Process Parameters Data List"
	Description="SponsorTerminate Business Process Parameters Data List."
	Author="Cary Mayeda"
	common:SecurityUIFolder="Sponsorship\Business Process\Sponsor Terminate" >

	<!-- 
	Remarks:    

	History:
	Date            Modified By     Comments
	30-May-2013		CMayeda			Initial Version 
	-->

	<!-- define the SP that returns the data for the datalist -->
	<SPDataList SPName="USR_USP_DATALIST_SPONSORTERMINATE_BUSINESSPROCESS_PARAMETERS">
		<common:CreateProcedureSQL>
			<![CDATA[
create procedure dbo.USR_USP_DATALIST_SPONSORTERMINATE_BUSINESSPROCESS_PARAMETERS(
	@CURRENTAPPUSERID uniqueidentifier = null
)
as
	set nocount on;
	
	select spterm_process.ID, 
		   spterm_process.NAME, 
		   spterm_process.DESCRIPTION, 
		   idset.NAME as SELECTIONNAME,
		   case 
			  when addedbyca.ID is null then ''
			  else addedbyca.USERNAME 
		   end as ADDEDBY,
		   spterm_process.DATEADDED,
		   case 
			  when changedbyca.ID is null then ''
			  else changedbyca.USERNAME
		   end as CHANGEDBY,
		   spterm_process.DATECHANGED
       
	  from dbo.USR_SPONSORTERMINATE_BUSINESSPROCESS spterm_process
 
      inner join dbo.IDSETREGISTER as idset on 
			  spterm_process.IDSETREGISTERID = idset.ID		      
 
	  left join dbo.CHANGEAGENT addedbyca on
			  spterm_process.ADDEDBYID = addedbyca.ID
 
	  left join dbo.CHANGEAGENT changedbyca on
			  spterm_process.ADDEDBYID = changedbyca.ID
			]]>
		</common:CreateProcedureSQL>
	</SPDataList>

	<!-- describe the context ID parameter for the SP (if applicable)-->
	<!--<Context ContextRecordType="USR_D4_CAMPAIGN_BUSINESSPROCESS" RecordIDParameter="CONTEXTID"/>-->

	<!-- describe any parameters (other than the context ID) defined on the SP
	<Parameters>
		<common:FormMetaData>
			<common:FormFields>
				<common:FormField FieldID="PARAMETER1" Caption="Paramter1" DataType="REPLACE_WITH_DATATYPE"/>
			</common:FormFields>
		</common:FormMetaData>
	</Parameters>-->

	<!-- define the output fields in the list -->
	<Output>
		<OutputFields>
			<OutputField FieldID="ID" Caption="ID" DataType="Guid" IsHidden="true" />
			<OutputField FieldID="NAME" Caption="Name" DataType="String" />
			<OutputField FieldID="DESCRIPTION" Caption="Description" DataType="String" />
			<OutputField FieldID="CAMPAIGNTYPE" Caption="Campaign Type" DataType="TinyInt" />
			<OutputField FieldID="OWNERID" Caption="Owner ID" DataType="Guid" IsHidden="true" />
		</OutputFields>
	</Output>

</DataListSpec>
